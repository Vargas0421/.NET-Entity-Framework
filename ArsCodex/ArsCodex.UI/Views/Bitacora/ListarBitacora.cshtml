@model IEnumerable<ArsCodex.Abstracciones.ModelosParaUI.BitacoraDto>

@{
    ViewBag.Title = "Bitácora";
}

<div class="container-fluid px-4 mt-4">
    <h2 class="mb-4">Registros de Bitácora</h2>



    <div class="card shadow-lg">
        <div class="card-header bg-white">
            <i class="fas fa-clipboard-list me-1"></i>
            Bitácora de eventos
        </div>
        <div class="card-body table-responsive">
            <table class="table table-striped table-bordered" id="tablaBitacora">
                <thead>
                    <tr>
                        <th>@Html.DisplayNameFor(m => m.First().TablaDeEvento)</th>
                        <th>@Html.DisplayNameFor(m => m.First().TipoDeEvento)</th>
                        <th>@Html.DisplayNameFor(m => m.First().FechaDeEvento)</th>
                        <th>@Html.DisplayNameFor(m => m.First().DescripcionDeEvento)</th>
                        <th>@Html.DisplayNameFor(m => m.First().StackTrace)</th>
                        <th>@Html.DisplayNameFor(m => m.First().DatosAnteriores)</th>
                        <th>@Html.DisplayNameFor(m => m.First().DatosPosteriores)</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var item in Model)
                    {
                        <tr>
                            <td>@item.TablaDeEvento</td>
                            <td>@item.TipoDeEvento</td>
                            <td>@item.FechaDeEvento.ToString("dd/MM/yyyy HH:mm")</td>
                            <td>@item.DescripcionDeEvento</td>
                            <td>@item.StackTrace</td>
                            <td>@item.DatosAnteriores</td>
                            <td>@item.DatosPosteriores</td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
    </div>
</div>

@section scripts{


    <script src="https://cdn.jsdelivr.net/npm/simple-datatables@7.1.2/dist/umd/simple-datatables.min.js"></script>
    <script>
            window.addEventListener('DOMContentLoaded', event => {

                const datatablesSimple = document.getElementById('tablaBitacora');
                if (datatablesSimple) {
                    new simpleDatatables.DataTable(datatablesSimple);
                }
            });
    </script>
}
